{"version":3,"sources":["data_processor.js","PokemonSelector.js","StatusCalculator.js","App.js","serviceWorker.js","index.js"],"names":["pokemonSelectList","duplicatedForms","idx","pokemons","pokemon","evolution","length","galardex","includes","id","form","select","value","key","name","cn","push","types_cn_to_en","type","types","moveByType","moves","moveId","move","class","physical","special","sort","a","b","Number","power","PokemonSelector","props","handleChange","bind","pokemonList","dataProcessor","map","MenuItem","src","alt","event","this","onPokemonChange","target","FormControl","style","minWidth","InputLabel","Select","onChange","PropTypes","number","func","React","Component","StatusCalculator","handleEVBlur","state","IVs","EVs","natureBuff","natureNerf","updateStats","prevProps","level","base","hp","atk","def","spatk","spdef","spe","values","getBaseValues","stats","i","Math","floor","nature","setState","onStatsChange","e","newValue","sum","min","max","round","texts","Grid","container","direction","item","xs","reduce","x","Input","inputProps","step","handleIVChanges","size","Slider","handleEVChanges","handleEVInputChanges","onBlur","Radio","checked","color","arrayOf","App","handlePokemonChange","handleStatsChange","spa","typeBonus","moveSet","filter","isNaN","List","ListItem","button","ListItemText","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a85bf828.chunk.js","sourcesContent":["import pokemons from './data/pokemons';\nimport moves from './data/moves';\nimport types from './data/types';\n\nlet pokemonSelectList = [];\nconst duplicatedForms = [25, 423, 550, 773, 778, 845, 849, 855, 869, 875, 877, 890];\n\nfor (let idx in pokemons) {\n    let pokemon = pokemons[idx];\n\n    if (pokemon.evolution.length > 0) {\n        continue;\n    }\n    if (pokemon.galardex < 0) {\n        continue;\n    }\n\n    if (duplicatedForms.includes(pokemon.id) && pokemon.form > 0) {\n        continue;\n    }\n\n    let select = {\n        value: idx,\n        key: pokemon.id + '_' + pokemon.form,\n        name: pokemon.name.cn + ` #${pokemon.id}`,\n    };\n    pokemonSelectList.push(select);\n}\n\nlet types_cn_to_en = {};\nfor (let type in types) {\n    types_cn_to_en[types[type].cn] = type;\n}\n\nfor (let idx in pokemons) {\n    let pokemon = pokemons[idx];\n\n    let moveByType = {};\n    for (let moveId of pokemon.moves) {\n        const move = moves[moveId];\n        if (move.class === '变化') {\n            continue;\n        }\n        if (!(move.type in moveByType)) {\n            moveByType[move.type] = {\n                physical: [],\n                special: [],\n            }\n        }\n        if (move.class === '物理') {\n            moveByType[move.type].physical.push(move);\n        }\n        if (move.class === '特殊') {\n            moveByType[move.type].special.push(move);\n        }\n    }\n    for (let type in moveByType) {\n        moveByType[type].physical = moveByType[type].physical.sort(\n            (a, b) => Number(b.power) - Number(a.power));\n        moveByType[type].special = moveByType[type].special.sort(\n            (a, b) => Number(b.power) - Number(a.power));\n    }\n}\n\nexport { pokemonSelectList };\n","import React from 'react';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport PropTypes from 'prop-types';\nimport * as dataProcessor from './data_processor.js';\n\nclass PokemonSelector extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n\n        this.pokemonList = dataProcessor.pokemonSelectList.map((pokemon) => (\n            <MenuItem value={pokemon.value} key={pokemon.key}>\n                <span>\n                    <img src={`./sprites/${pokemon.key}.png`}\n                        alt={pokemon.idx}\n                    />\n                </span>\n                <span>{pokemon.name}</span>\n            </MenuItem>\n        ));\n    }\n\n    static get propTypes() {\n        return {\n            id: PropTypes.number,\n            onPokemonChange: PropTypes.func\n        };\n    }\n\n    handleChange(event) {\n        this.props.onPokemonChange(event.target.value);\n    }\n\n    render() {\n        return (\n            <FormControl style={{ minWidth: 240 }}>\n                <InputLabel>宝可梦</InputLabel>\n                <Select\n                    value={this.props.id}\n                    onChange={this.handleChange}>\n                    {this.pokemonList}\n                </Select>\n            </FormControl>\n        );\n    }\n}\n\nexport default PokemonSelector;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Input from '@material-ui/core/Input';\nimport Slider from '@material-ui/core/Slider';\nimport Grid from '@material-ui/core/Grid';\nimport Radio from '@material-ui/core/Radio';\n\nimport pokemons from './data/pokemons';\n\nclass StatusCalculator extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleEVBlur = this.handleEVBlur.bind(this);\n\n        this.state = {\n            IVs: [31, 31, 31, 31, 31, 31],\n            EVs: [0, 0, 0, 0, 0, 0],\n            natureBuff: 0,\n            natureNerf: 0,\n        };\n    }\n\n    static get propTypes() {\n        return {\n            pokemon: PropTypes.number,\n            level: PropTypes.number,\n            stats: PropTypes.arrayOf(PropTypes.number),\n            onStatsChange: PropTypes.func,\n        };\n    }\n\n    componentDidMount() {\n        this.updateStats(this.state.IVs, this.state.EVs, 0, 0);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.pokemon !== prevProps.pokemon ||\n            this.props.level !== prevProps.level) {\n            this.updateStats(this.state.IVs, this.state.EVs,\n                this.state.natureBuff, this.state.natureNerf);\n        }\n    }\n\n    getBaseValues() {\n        const base = pokemons[this.props.pokemon].base;\n        return [base.hp, base.atk, base.def, base.spatk, base.spdef, base.spe];\n    }\n\n    updateStats(IVs, EVs, natureBuff, natureNerf) {\n        const values = this.getBaseValues();\n        let stats = [];\n        for (let i = 0; i < 6; ++i) {\n            const base = Math.floor(this.props.level * (values[i] * 2 + IVs[i] + EVs[i] / 4) / 100);\n            if (i === 0) {\n                stats.push(base + this.props.level + 10);\n            } else {\n                let nature = 1;\n                if (natureBuff !== natureNerf) {\n                    if (natureBuff === i) {\n                        nature = 1.1;\n                    }\n                    if (natureNerf === i) {\n                        nature = 0.9;\n                    }\n                }\n                stats.push(Math.floor((base + 5) * nature));\n            }\n        }\n        this.setState({\n            IVs: IVs,\n            EVs: EVs,\n            natureBuff: natureBuff,\n            natureNerf: natureNerf,\n        });\n        this.props.onStatsChange(stats);\n    }\n\n    handleIVChanges(idx, e) {\n        let IVs = this.state.IVs;\n        IVs[idx] = Number(e.target.value);\n        this.updateStats(IVs, this.state.EVs, this.state.natureBuff, this.state.natureNerf);\n    }\n\n    handleEVChanges(idx, e, newValue) {\n        let EVs = this.state.EVs;\n        let sum = 0;\n        for (let value of EVs) {\n            sum += value;\n        }\n        sum -= EVs[idx];\n        EVs[idx] = Math.min(newValue, 508 - sum);\n        this.updateStats(this.state.IVs, EVs, this.state.natureBuff, this.state.natureNerf);\n    }\n\n    handleEVInputChanges(idx, e) {\n        let EVs = this.state.EVs;\n        let sum = 0;\n        for (let value of EVs) {\n            sum += value;\n        }\n        sum -= EVs[idx];\n        EVs[idx] = Math.min(Number(e.target.value), 508 - sum);\n        this.updateStats(this.state.IVs, EVs, this.state.natureBuff, this.state.natureNerf);\n    }\n\n    handleEVBlur() {\n        let EVs = this.state.EVs;\n        for (let i = 0; i < 6; ++i) {\n            EVs[i] = Math.max(0, Math.min(252, EVs[i]));\n            EVs[i] = Math.round(EVs[i] / 4) * 4;\n        }\n        this.updateStats(this.state.IVs, EVs, this.state.natureBuff, this.state.natureNerf);\n    }\n\n    render() {\n        const values = this.getBaseValues();\n        const texts = [\"HP\", \"物攻\", \"物防\", \"特攻\", \"特防\", \"速度\"];\n        return (\n            <Grid container direction=\"column\">\n                <Grid container direction=\"row\">\n                    <Grid item xs></Grid>\n                    <Grid item xs>种族值</Grid>\n                    <Grid item xs>个体值</Grid>\n                    <Grid item xs>努力值({\n                        510 - this.state.EVs.reduce((a, b) => a + b, 0)\n                    })</Grid>\n                    <Grid item xs></Grid>\n                    <Grid item xs>性格修正</Grid>\n                    <Grid item xs>能力</Grid>\n                </Grid>\n                {[0, 1, 2, 3, 4, 5].map((x) => (\n                    <Grid container direction=\"row\" key={x}>\n                        <Grid item xs> {texts[x]}</Grid>\n                        <Grid item xs> {values[x]}</Grid>\n                        <Grid item xs>\n                            <Input\n                                inputProps={{ min: 0, max: 31, step: 1 }}\n                                value={this.state.IVs[x]}\n                                onChange={this.handleIVChanges.bind(this, x)}\n                                type=\"number\"\n                                size=\"small\"\n                            />\n                        </Grid>\n                        <Grid item xs>\n                            <Slider\n                                value={this.state.EVs[x]}\n                                onChange={this.handleEVChanges.bind(this, x)}\n                                step={4}\n                                min={0}\n                                max={252}\n                            />\n                        </Grid>\n                        <Grid item xs>\n                            <Input\n                                value={this.state.EVs[x]}\n                                onChange={this.handleEVInputChanges.bind(this, x)}\n                                onBlur={this.handleEVBlur}\n                                inputProps={{\n                                    step: 4,\n                                    min: 0,\n                                    max: 252,\n                                    type: 'number',\n                                }}\n                            />\n                        </Grid>\n                        <Grid item xs>\n                            <Radio\n                                checked={this.state.natureBuff === x}\n                                onChange={() => {\n                                    this.updateStats(this.state.IVs,\n                                        this.state.EVs, x, this.state.natureNerf);\n                                }}\n                                value={x} />\n                            <Radio\n                                color='primary'\n                                checked={this.state.natureNerf === x}\n                                onChange={() => {\n                                    this.updateStats(this.state.IVs,\n                                        this.state.EVs, this.state.natureBuff, x);\n                                }}\n                                value={x} />\n                        </Grid>\n                        <Grid item xs>\n                            {this.props.stats[x]}\n                        </Grid>\n                    </Grid>\n                ))}\n            </Grid>\n        );\n    }\n}\n\nexport default StatusCalculator;","import React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport './App.css';\n\nimport PokemonSelector from './PokemonSelector.js'\nimport StatusCalculator from './StatusCalculator.js'\n\nimport pokemons from './data/pokemons';\nimport moves from './data/moves';\nimport types from './data/types';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handlePokemonChange = this.handlePokemonChange.bind(this);\n        this.handleStatsChange = this.handleStatsChange.bind(this);\n\n        this.state = {\n            pokemon: 5,\n            level: 50,\n            stats: [0, 0, 0, 0, 0, 0],\n        };\n\n        this.types_cn_to_en = {};\n        for (let type in types) {\n            this.types_cn_to_en[types[type].cn] = type;\n        }\n    }\n\n    handlePokemonChange(id) {\n        this.setState({ pokemon: Number(id) });\n    }\n\n    handleStatsChange(stats) {\n        this.setState({ stats: stats });\n    }\n\n    render() {\n        const pokemon = this.state.pokemon;\n        const atk = this.state.stats[1];\n        const spa = this.state.stats[3];\n        const power = function (x) {\n            let typeBonus = 1;\n            for (let type of pokemons[pokemon].type) {\n                if (types[type].cn === moves[x].type) {\n                    typeBonus = 1.5;\n                }\n            }\n            if (moves[x].class === '物理') {\n                return atk * Number(moves[x].power) * typeBonus;\n            } else {\n                return spa * Number(moves[x].power) * typeBonus;\n            }\n        };\n        const moveSet = pokemons[this.state.pokemon].moves\n            .filter((x) => moves[x].class !== '变化' && !isNaN(moves[x].power))\n            .sort((a, b) => power(b) - power(a));\n\n        return (\n            <div>\n                <Grid container direction=\"row\">\n                    <Grid xs={3}>\n                        <PokemonSelector\n                            id={this.state.pokemon}\n                            onPokemonChange={this.handlePokemonChange} />\n                    </Grid>\n                    <Grid xs={9}>\n                        <StatusCalculator\n                            pokemon={this.state.pokemon}\n                            level={50}\n                            stats={this.state.stats}\n                            onStatsChange={this.handleStatsChange} />\n                    </Grid>\n                </Grid>\n                <List>\n                    {moveSet.map(x => (\n                        <ListItem button key={moves[x].id}>\n                            <ListItemText >\n                                <span>{moves[x].name.cn}</span>\n                            </ListItemText>\n                        </ListItem>))}\n                </List>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}